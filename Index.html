<!DOCTYPE html><html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin - Putzplan</title>
  <style>
    body { font-family: sans-serif; padding: 1rem; background-color: #f9f9f9; }
    h1 { text-align: center; }
    .day { background: white; margin-bottom: 1rem; padding: 1rem; border-radius: 10px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
    .day h2 { margin-top: 0; }
    textarea { width: 100%; height: 60px; margin-bottom: 0.5rem; border: 1px solid #ccc; border-radius: 5px; padding: 0.5rem; }
    .btn { padding: 0.5rem 1rem; background-color: #4caf50; color: white; border: none; border-radius: 5px; cursor: pointer; }
    .nav { text-align: center; margin: 1rem 0; }
    .nav button { margin: 0 0.5rem; padding: 0.5rem; border: none; background: #007bff; color: white; border-radius: 5px; cursor: pointer; }
    .info { text-align: center; margin-bottom: 1rem; font-weight: bold; }
  </style>
</head>
<body>
  <h1>Administration Putzplan</h1>
  <div class="info">Tag: <span id="dayInfo"></span></div>
  <div class="nav">
    <button onclick="switchDay(-1)">◀ Vorheriger</button>
    <button onclick="switchDay(1)">Nächster ▶</button>
  </div>  <div class="day">
    <h2>Frühdienst</h2>
    <textarea id="frueh"></textarea>
  </div>
  <div class="day">
    <h2>Tagdienst</h2>
    <textarea id="tag"></textarea>
  </div>
  <div class="day">
    <h2>Spätdienst</h2>
    <textarea id="spaet"></textarea>
  </div>  <script>
    let adminDay = 0;
    const adminPasswort = "admin123"; // Beispiel Passwort

    function updateDayInfo() {
      document.getElementById("dayInfo").textContent = `Tag ${adminDay + 1} / 31`;
    }

    function switchDay(delta) {
      adminDay = (adminDay + delta + 31) % 31;
      loadDay();
    }

    function loadDay() {
      updateDayInfo();
      const key = "plan_" + ("0000-01-" + String(adminDay + 1).padStart(2, '0'));
      const data = JSON.parse(localStorage.getItem(key) || '{}');
      document.getElementById("frueh").value = data.frueh || "";
      document.getElementById("tag").value = data.tag || "";
      document.getElementById("spaet").value = data.spaet || "";
    }

    function saveDayAuto() {
      const key = "plan_" + ("0000-01-" + String(adminDay + 1).padStart(2, '0'));
      const data = {
        frueh: document.getElementById("frueh").value,
        tag: document.getElementById("tag").value,
        spaet: document.getElementById("spaet").value
      };
      localStorage.setItem(key, JSON.stringify(data));
    }

    document.getElementById("frueh").addEventListener("input", saveDayAuto);
    document.getElementById("tag").addEventListener("input", saveDayAuto);
    document.getElementById("spaet").addEventListener("input", saveDayAuto);

    loadDay();
  </script></body>
</html>
